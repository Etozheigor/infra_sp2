# Yamdb

### Описание проекта

API Yamdb - это бэкэнд часть аггрегатора отзывов на произведения различных категорий: книги, фильмы, музыка. Самих произведений на Yamdb нет, только отзывы с оценками. Пользователи могут просматривать рейтинг произведений в различных категориях и жанрах, читать отзывы к произведениям и оставлять свои комментарии к этим отзывам. Реализована кастомная модель юзер, есть разные роли пользователей - суперюзер, админ, модератор, юзер, аноним. Каждый пользователь обладает собственными правами на создание\удаление пользователей, произведений, отзывов и комментариев.


### Как запустить:

Клонировать репозиторий и перейти в него в командной строке:

```
git clone https://github.com/Etozheigor/infra_sp2.git
```

```
cd infra_sp2
```

Перейти в папку infra, создать и запустить docker-compose:

```
cd infra
```

```
docker-compose up
```


Проект будет доступен локально по адресу:

```
http://localhost/
```

### Шаблон заполнения env-файла:

* DB_ENGINE= # указываем, что работаем с postgresql
* DB_NAME= # имя базы данных
* POSTGRES_USER= # логин для подключения к базе данных
* POSTGRES_PASSWORD= # пароль для подключения к БД
* DB_HOST= # название сервиса (контейнера)
* DB_PORT= # порт для подключения к БД

### Заполнение базы данных тестовыми данными:

Из корневой папки проекта перейти в папку api_yamdb:

```
cd api_yamdb
```
Заполнить в базу данные из csv файлов:

```
python manage.py fill_db
```

### Обращение к API:

По адресу http://127.0.0.1:8000/redoc/ подключена документация, в которой
описаны все примеры обращений к API


